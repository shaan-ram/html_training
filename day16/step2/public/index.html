<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<style>
    body{
        margin: 100px;
    }
</style>
<script src= "jquery-3.6.1.js"></script>

<script>
    function reload(){
        $.ajax({
            url:"/data",
            method: "get",
            success: function(res){
                let tbody = $("#tbody");
                tbody.empty();
                $(res).each(function(idx, hero){
                    tbody.append(`<tr>
                                  <th scope = "row">${ idx+1}</th>
                                  <td>${ hero.title}</td>
                                  <td>${hero.firstname}</td>
                                  <td>${hero.lastname}</td>
                                  <td>
                                    <button class ="btn btn-warning">Edit</button>
                                  </td>
                                  <td>
                                    <button class ="btn btn-danger">Delete</button>
                                  </td>
                                  </tr>`)

                })
            },
            error : function(error){
                console.log(error)
            }

        })
    }
    $(()=>{
      reload()
    })
</script>
</head>
<body>
    <div id="box">
        <div class="mb-3">
            <label for="htitle" class="form-label" >Hero Title</label>
            <input type="text" class="form-control" id="htitle">
        </div>
        <div class="mb-3">
            <label for="lname" class="form-label" >First Name</label>
            <input type="text" class="form-control" id="lname">
        </div>
        <div class="mb-3">
            <label for="lname" class="form-label" >Last Name</label>
            <input type="text" class="form-control" id="lname">
        </div>
       <button id="addbtn" type="submit" class="btn btn-primary">Add new hero</button>
    </div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
</body>
</html>